<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Star Wars Deckbuilding VTT</title>
</head>
<body>
  <div id="app"></div>

  <!-- your app code -->
  <script src="./app.js?v=LAYOUT1"></script>

  <!-- small inline fixes that run after app.js loads -->
  <script>
    // --- Mobile: prevent Safari double-tap page zoom on the board ---
    (function preventBoardDoubleTapZoom(){
      let lastTouchEnd = 0;

      document.addEventListener('touchend', (e) => {
        // block double-tap zoom only when the user taps the game surface
        const onBoard = e.target.closest('#app, #table, #board, .slot, .card, .cardSlot, .token');
        if (!onBoard) return;

        const now = Date.now();
        if (now - lastTouchEnd <= 300) e.preventDefault();
        lastTouchEnd = now;
      }, { passive: false });

      document.addEventListener('dblclick', (e) => {
        const onBoard = e.target.closest('#app, #table, #board, .slot, .card, .cardSlot, .token');
        if (!onBoard) return;
        e.preventDefault();
      }, { passive: false });
    })();
  </script>
</body>

</html>
